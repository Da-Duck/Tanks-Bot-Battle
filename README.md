# üöÄ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üì• –®–∞–≥ 1: –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã

–ù—É–∂–Ω—ã –≤—Å–µ–≥–æ **3 —Ñ–∞–π–ª–∞**:
- `api.py` - API –¥–ª—è –±–æ—Ç–æ–≤
- `main.py` - –ò–≥—Ä–∞
- `my_bot.py` - –í–∞—à –±–æ—Ç

## üéÆ –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
python main.py
```

–í –º–µ–Ω—é:
- –ö–æ–ª-–≤–æ —Ç–∞–Ω–∫–æ–≤: **2**
- –°–µ—Ç—å: **–í–ö–õ–Æ–ß–ò–¢–¨** ‚úÖ
- –ù–∞–∂–∞—Ç—å "–°–¢–ê–†–¢"

## ü§ñ –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–≤–æ–π –±–æ—Ç

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `my_bot.py`:

```python
from api import BotAPI

class MyBot(BotAPI):
    def logic(self, fov):
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –∑–¥–µ—Å—å!
        return "f"  # –ü—Ä–æ—Å—Ç–æ –¥–≤–∏–∂–µ–º—Å—è –≤–ø–µ—Ä–µ–¥

bot = MyBot(host='localhost', port=5000)
bot.run()
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python my_bot.py
```

**–ì–æ—Ç–æ–≤–æ! –ë–æ—Ç –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∏ –∏–≥—Ä–∞–µ—Ç! üéÆ**

---

## üìñ –ú–∏–Ω–∏-—Å–ø—Ä–∞–≤–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `fov` (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã):

```python
fov['bot']      # –í—ã: {'x': 100, 'y': 200, 'a': 0.5, 'hp': 3}
fov['tanks']    # –í—Ä–∞–≥–∏: [{'tank_id': 1, 'x': 300, 'y': 150, ...}, ...]
fov['walls']    # –°—Ç–µ–Ω—ã: [[x1, y1, x2, y2], ...]
fov['water']    # –í–æ–¥–∞: [[x1, y1, x2, y2], ...]
fov['dest']     # –†–∞–∑—Ä—É—à–∞–µ–º–æ–µ: [[x1, y1, x2, y2], ...]
fov['bullets']  # –ü—É–ª–∏: [{'x': 400, 'y': 100}, ...]
```

### –ö–æ–º–∞–Ω–¥—ã:

```python
return "f"      # –í–ø–µ—Ä–µ–¥
return "b"      # –ù–∞–∑–∞–¥
return "l"      # –í–ª–µ–≤–æ
return "r"      # –í–ø—Ä–∞–≤–æ
return "s"      # –í—ã—Å—Ç—Ä–µ–ª–∏—Ç—å
return "lfs"    # –ö–æ–º–±–æ: –≤–ª–µ–≤–æ+–≤–ø–µ—Ä–µ–¥+–≤—ã—Å—Ç—Ä–µ–ª
return ""       # –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

```python
self.distance(x1, y1, x2, y2)     # –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
self.angle_to(my_x, my_y, tx, ty) # –£–≥–æ–ª –∫ —Ü–µ–ª–∏
self.angle_diff(a1, a2)           # –†–∞–∑–Ω–∏—Ü–∞ —É–≥–ª–æ–≤
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –û—Ö–æ—Ç–Ω–∏–∫

```python
from api import BotAPI
import math

class HunterBot(BotAPI):
    def logic(self, fov):
        me = fov['bot']
        enemies = fov['tanks']
        
        if not enemies:
            return "f"  # –ò—â–µ–º –≤—Ä–∞–≥–æ–≤
        
        # –ë–ª–∏–∂–∞–π—à–∏–π –≤—Ä–∞–≥
        closest = min(enemies, 
                     key=lambda e: self.distance(me['x'], me['y'], e['x'], e['y']))
        
        # –£–≥–æ–ª –∫ –≤—Ä–∞–≥—É
        angle = self.angle_to(me['x'], me['y'], closest['x'], closest['y'])
        diff = self.angle_diff(me['a'], angle)
        
        if abs(diff) > 0.1:
            return "r" if diff > 0 else "l"
        else:
            return "fs"  # –í–ø–µ—Ä–µ–¥ –∏ —Å—Ç—Ä–µ–ª—è—Ç—å

bot = HunterBot()
bot.run()
```

### –ü—Ä–∏–º–µ—Ä 2: –†–∞–∑–≤–µ–¥—á–∏–∫

```python
from api import BotAPI

class ScoutBot(BotAPI):
    def logic(self, fov):
        me = fov['bot']
        walls = fov['walls']
        
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –≤–ø–µ—Ä–µ–¥–∏
        future_x = me['x'] + math.cos(me['a']) * 100
        future_y = me['y'] + math.sin(me['a']) * 100
        
        for x1, y1, x2, y2 in walls:
            if x1 <= future_x <= x2 and y1 <= future_y <= y2:
                return "r"  # –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ - –ø–æ–≤–µ—Ä–Ω—É—Ç—å
        
        return "f"  # –î–≤–∏–∂–µ–º—Å—è –≤–ø–µ—Ä–µ–¥

bot = ScoutBot()
bot.run()
```

---

## üõ†Ô∏è –ß—Ç–æ –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –û—à–∏–±–∫–∞: "Connection refused"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (–ø–µ—Ä–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PORT (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 5000)

### –û—à–∏–±–∫–∞: "ModuleNotFoundError: No module named 'api'"
- –ü–æ–º–µ—Å—Ç–∏—Ç–µ `api.py` –≤ —Ç—É –∂–µ –ø–∞–ø–∫—É —á—Ç–æ –∏ –≤–∞—à –±–æ—Ç

### –ë–æ—Ç –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `logic()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É (–Ω–µ None)
- –î–æ–±–∞–≤—å—Ç–µ `print()` –¥–ª—è –¥–µ–±–∞–≥–∞

### –ù–µ–≤–µ—Ä–Ω—ã–π HOST/PORT
```python
# –õ–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ):
bot = MyBot(host='127.0.0.1', port=5000)

# –ù–∞ –¥—Ä—É–≥–æ–π –º–∞—à–∏–Ω–µ (–∑–∞–º–µ–Ω–∏—Ç–µ IP):
bot = MyBot(host='192.168.1.100', port=5000)
```
