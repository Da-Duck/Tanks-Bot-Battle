# –¢–∞–Ω–∫–∏. –ë–∏—Ç–≤–∞ –ë–æ—Ç–æ–≤

–ü—Ä–æ—Å—Ç–∞—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞ –≤ —Ç–∞–Ω–∫–∏, –≥–¥–µ –±–æ—Ç—ã —Å—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –ø–æ–ª–µ —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏. –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å—Ä–∞–∂–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏!

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.7+
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É:
```bash
python tank_game.py
```
3. –í –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫:
   - –í–∫–ª—é—á–∏—Ç–µ —Å–µ—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º (–≥–∞–ª–æ—á–∫–∞ "–í–∫–ª—é—á–∏—Ç—å —Å–µ—Ç—å")
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª—è –∏ –±–æ—Ç–æ–≤
   - –ù–∞–∂–º–∏—Ç–µ "–°–¢–ê–†–¢ –°–ï–†–ò–ò"

## –ö–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `my_bot.py` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```python
import socket
import json
import time

#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ
class BotAPI:
    def __init__(self, host='127.0.0.1', port=5000):
        #—Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–∫–µ—Ç–∞
        self.s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.s.connect((host, port))
        self.f = self.s.makefile('r', encoding='utf-8', newline='\n')
        #–ø–æ–ª—É—á–µ–Ω–∏–µ id —Ç–∞–Ω–∫–∞
        hello = json.loads(self.f.readline().strip())
        self.tank_id = hello['tank_id']
    
    #–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª–µ
    def get_fov(self):
        line = self.f.readline()
        if not line:
            return None
        return json.loads(line.strip())
    
    #–æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã
    def send_cmd(self, cmd):
        self.s.sendall((cmd + "\n").encode('utf-8'))
    
    #–∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    def close(self):
        try:
            self.s.close()
        except:
            pass

#–≥–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
if __name__ == "__main__":
    b = BotAPI()  #–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–≥—Ä–µ
    try:
        while True:
            data = b.get_fov()  #–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—è
            if not data:
                break
            
            cmd = ""  #–∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ç–∞–Ω–∫–∞
            
            #–≤–∞—à–∞ –ª–æ–≥–∏–∫–∞ –∑–¥–µ—Å—å
            #–ø—Ä–∏–º–µ—Ä: —Å—Ç—Ä–µ–ª—è—Ç—å –µ—Å–ª–∏ –≤—Ä–∞–≥ —Ä—è–¥–æ–º
            for enemy in data['enemies']:
                dx = enemy['x'] - data['self']['x']
                dy = enemy['y'] - data['self']['y']
                distance = (dx**2 + dy**2)**0.5
                if distance < 200:
                    cmd = "s"  #–æ–≥–æ–Ω—å!
                    break
            
            #–æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã
            b.send_cmd(cmd)
            time.sleep(0.01)  #–æ–∂–∏–¥–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–∏–∫–∞
    finally:
        b.close()  #–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
```

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö FOV

–ö–∞–∂–¥—ã–π —Ç–∏–∫ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ JSON —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```json
{
  "self": {
    "x": 100,
    "y": 100,
    "angle": 90,
    "health": 3
  },
  "enemies": [
    {
      "id": 1,
      "x": 200,
      "y": 200,
      "angle": 180,
      "health": 2
    }
  ],
  "walls": [[100, 100, 150, 150]],
  "water": [[300, 300, 350, 350]],
  "dest": [[200, 200, 230, 230]],
  "bullets": [{"x": 150, "y": 150}],
  "map_width": 1280,
  "map_height": 720
}
```

- `self` - –≤–∞—à —Ç–∞–Ω–∫
- `enemies` - –∂–∏–≤—ã–µ –≤—Ä–∞–∂–µ—Å–∫–∏–µ —Ç–∞–Ω–∫–∏
- `walls` - –Ω–µ—Ä–∞–∑—Ä—É—à–∞–µ–º—ã–µ —Å—Ç–µ–Ω—ã
- `water` - –≤–æ–¥–∞ (–Ω–µ–ª—å–∑—è –ø—Ä–æ–µ—Ö–∞—Ç—å)
- `dest` - —Ä–∞–∑—Ä—É—à–∞–µ–º—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
- `bullets` - —Ç–µ–∫—É—â–∏–µ –ø—É–ª–∏ –Ω–∞ –ø–æ–ª–µ

## –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Å—Ç—Ä–æ–∫—É (–º–∞–∫—Å–∏–º—É–º 5 —Å–∏–º–≤–æ–ª–æ–≤):

- `l` - –ø–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ
- `r` - –ø–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ
- `f` - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥
- `b` - –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞–∑–∞–¥
- `s` - –≤—ã—Å—Ç—Ä–µ–ª

–ü—Ä–∏–º–µ—Ä—ã:
- `"s"` - —Ç–æ–ª—å–∫–æ –≤—ã—Å—Ç—Ä–µ–ª
- `"fs"` - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥ + –≤—ã—Å—Ç—Ä–µ–ª
- `"lr"` - –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ (–∫–æ–º–∞–Ω–¥—ã –≤–∑–∞–∏–º–Ω–æ –∏—Å–∫–ª—é—á–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞)

## –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. **–°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏**: –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ 10–º—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é). –ï—Å–ª–∏ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç–µ - –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–¥.
2. **–ò–∑–±–µ–≥–∞–π—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
3. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏**: –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ**: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–∫—É –±–µ–∑ —Å–µ—Ç–∏.
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–ª–∞–¥–∫—É**: –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –≤ —Å–µ—Ç–µ–≤–æ–º —Ä–µ–∂–∏–º–µ
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞:
```bash
python my_bot.py
```
3. –î–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–æ—Ç–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å–∫—Ä–∏–ø—Ç–æ–≤

–°—á–∞—Å—Ç–ª–∏–≤–æ–π –±–∏—Ç–≤—ã! üéÆüí•
